% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FuncDrugFeature.R
\name{plotDrugSensitivityRank}
\alias{plotDrugSensitivityRank}
\title{Create Drug Sensitivity Rank Plot}
\usage{
plotDrugSensitivityRank(
  dromaset_object,
  drug_name,
  data_type = "all",
  tumor_type = "all",
  overlap_only = FALSE,
  highlight = NULL,
  color = NULL,
  zscore = TRUE,
  merge = FALSE,
  point_size = 2,
  highlight_alpha = 0.6,
  sample_annotations = NULL,
  db_path = NULL
)
}
\arguments{
\item{dromaset_object}{Either a DromaSet or MultiDromaSet object}

\item{drug_name}{Character string specifying the drug name}

\item{data_type}{Filter by data type: "all" (default), "CellLine", "PDC", "PDO", "PDX"}

\item{tumor_type}{Filter by tumor type: "all" (default) or specific tumor type}

\item{highlight}{Character vector specifying samples to highlight. Can be:
- A value from data_type (e.g., "CellLine") to highlight all samples of that type
- A value from tumor_type (e.g., "breast cancer") to highlight all samples of that tumor type
- A vector of specific sample IDs to highlight
Note: If more than 20 samples are highlighted, only the top 20 most sensitive will be labeled}

\item{color}{Character string specifying the variable to use for coloring points.
Options: NULL (default, no coloring), "data_type", "tumor_type", or any column name in sample annotations}

\item{zscore}{Logical, whether to use z-score normalized values (default: TRUE)}

\item{merge}{Logical, only applicable when zscore=TRUE and using MultiDromaSet.
If TRUE, merges data from multiple projects when drug appears in at least 2 projects (default: FALSE)
If FALSE, returns separate plots for each project}

\item{point_size}{Numeric, size of points in the plot (default: 2)}

\item{highlight_alpha}{Numeric, alpha transparency for non-highlighted points (default: 0.6)}

\item{sample_annotations}{Optional dataframe containing sample annotations}

\item{db_path}{Optional path to SQLite database for loading sample annotations}
}
\value{
For DromaSet: A ggplot2 object. For MultiDromaSet with merge=FALSE: A list of ggplot2 objects (one per project).
  For MultiDromaSet with merge=TRUE: A single ggplot2 object with combined data.
}
\description{
Creates a rank plot showing drug sensitivity values ordered from most sensitive (lowest values) to least sensitive
}
\details{
This function creates a rank plot where samples are ordered by drug sensitivity values.
  For AUC data, lower values indicate higher sensitivity, so samples are ranked with lowest values on the left.
  The function supports highlighting specific samples and coloring by categorical variables.
  For MultiDromaSet objects with zscore=TRUE and merge=TRUE, it can combine data from multiple projects
  when the drug appears in at least two projects. When merge=FALSE, separate plots are returned for each project.
}
\examples{
\dontrun{
# Basic rank plot
rank_plot <- plotDrugSensitivityRank(gCSI, "Paclitaxel")

# Highlight cell line samples and color by tumor type
rank_plot <- plotDrugSensitivityRank(
  gCSI, "Paclitaxel",
  highlight = "CellLine",
  color = "TumorType"
)

# MultiDromaSet with separate plots for each project
rank_plots <- plotDrugSensitivityRank(
  multi_set, "Paclitaxel",
  merge = FALSE,
  color = "TumorType"
)

# MultiDromaSet with merged data
rank_plot <- plotDrugSensitivityRank(
  multi_set, "Paclitaxel",
  zscore = TRUE,
  merge = TRUE,
  color = "ProjectID"
)
}
}
